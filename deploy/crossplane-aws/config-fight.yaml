apiVersion: v1
kind: ConfigMap
metadata:
  name: fight-config
data:
  mp.messaging.connector.smallrye-kafka.apicurio.registry.url: "http://apicurio:8080/apis/registry/v2"
  quarkus.http.port: "8082"
  quarkus.datasource.username: "super"
  quarkus.datasource.reactive.postgresql.ssl-mode: "require"
  quarkus.datasource.reactive.trust-all: "true"
  quarkus.hibernate-orm.schema-management.strategy: "create"
  quarkus.otel.exporter.otlp.traces.endpoint: "http://alloy.monitoring:4317"
  # Stork service discovery configuration for Hero service
  # Change 'hero-service' to customize the Stork service name, or update the address-list below
  quarkus.stork.hero-service.service-discovery.type: "static"
  quarkus.stork.hero-service.service-discovery.address-list: "quarkus-workshop-hero:8080"
  # Stork service discovery configuration for Villain service
  # Change 'villain-service' to customize the Stork service name, or update the address-list below
  quarkus.stork.villain-service.service-discovery.type: "static"
  quarkus.stork.villain-service.service-discovery.address-list: "quarkus-workshop-villain:8080"
  # Stork service discovery configuration for Narration service
  # Change 'narration-service' to customize the Stork service name, or update the address-list below
  # Note: Service port is 80 (targetPort 8080) - use the service port, not the container port
  quarkus.stork.narration-service.service-discovery.type: "static"
  quarkus.stork.narration-service.service-discovery.address-list: "quarkus-workshop-narration:8080"
  # gRPC Location service configuration
  # Note: gRPC clients don't support Stork service discovery like REST clients do
  # Use direct host/port configuration instead
  quarkus.grpc.clients.locations.host: "quarkus-workshop-grpc-locations"
  quarkus.grpc.clients.locations.port: "8080"

